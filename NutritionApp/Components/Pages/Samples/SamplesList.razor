@page "/samples/list"
@using SampleDatabaseBuilder.Services
@using NutritionApp.Services
@inject NavigationManager NavigationManager
@inject SearchState State
@rendermode InteractiveServer

<SampleSearcher State="State">
    <AdditionalColumns>
        <TemplateColumn TGridItem="Sample" Title="詳細成分" Align="Align.Center" Width=".8fr">
            <FluentButton Appearance="Appearance.Lightweight" @onclick="@(() => ShowDetails(context.Id))">
                <FluentIcon Value="@(new Icons.Regular.Size16.MoreHorizontal())" />
            </FluentButton>
        </TemplateColumn>
    </AdditionalColumns>
</SampleSearcher>

@code {
    private void ShowDetails(string id)
    {
        if (!string.IsNullOrEmpty(id))
            NavigationManager.NavigateTo($"/samples/details/{id}");
    }
}
